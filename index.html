<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>21 Hold'em | 3-Player Game</title>
    <link rel="stylesheet" href="styles.css?v=19" />
  </head>
  <body>
    <div id="lobbyOverlay" class="lobby-overlay">
      <section class="lobby-card glass" aria-label="Game lobby">
        <p class="lobby-kicker">21 Hold'em v1.1</p>
        <h2>Choose Blind Size</h2>
        <p class="lobby-copy">
          Pick the blind structure before you sit down.
        </p>
        <div id="blindSizeOptions" class="blind-size-options">
          <button class="blind-size-btn active" type="button" data-sb="1" data-bb="2">
            1 / 2
          </button>
          <button class="blind-size-btn" type="button" data-sb="2" data-bb="4">
            2 / 4
          </button>
          <button class="blind-size-btn" type="button" data-sb="5" data-bb="10">
            5 / 10
          </button>
        </div>
        <button id="startGameButton" class="btn primary lobby-start" type="button">
          Enter Table
        </button>
      </section>
    </div>

    <div class="app-shell">
      <header class="top-bar glass">
        <button id="menuToggle" class="btn ghost" type="button">Menu</button>
        <div class="top-title">
          <p class="kicker">21 Hold'em</p>
          <h1>3-Player Table</h1>
        </div>
        <button id="newHandButton" class="btn primary" type="button">Deal Next Hand</button>
      </header>

      <aside id="menuDrawer" class="menu-drawer glass" aria-label="Main menu">
        <div class="menu-header">
          <h2>Table Menu</h2>
          <button id="closeMenu" class="btn ghost mini" type="button">Close</button>
        </div>

        <div class="menu-tabs" role="tablist" aria-label="Menu panels">
          <button class="menu-tab active" type="button" data-panel="overview">Overview</button>
          <button class="menu-tab" type="button" data-panel="tutorial">Tutorial</button>
          <button class="menu-tab" type="button" data-panel="rules">Rules</button>
        </div>

        <section class="menu-panel active" data-panel-content="overview">
          <p class="menu-copy">
            Tutorial stays in this menu while the game runs on the main table.
          </p>
          <ul class="menu-list">
            <li>3 seats: You, North Bot, East Bot.</li>
            <li>5 rounds: Pre-Action, Action, Stage, Show, Caboose.</li>
            <li>Best total at or under 21 wins.</li>
          </ul>
        </section>

        <section class="menu-panel" data-panel-content="tutorial">
          <div id="tutorialModuleTabs" class="tutorial-modules" aria-label="Tutorial modules"></div>
          <article class="tutorial-card">
            <p id="tutorialMeta" class="tutorial-meta"></p>
            <h3 id="tutorialTitle"></h3>
            <div id="tutorialBody" class="tutorial-body"></div>
            <ul id="tutorialBullets" class="tutorial-bullets"></ul>
          </article>
          <div class="tutorial-controls">
            <button id="tutorialPrev" class="btn ghost mini" type="button">Back</button>
            <span id="tutorialCounter"></span>
            <button id="tutorialNext" class="btn ghost mini" type="button">Next</button>
          </div>
        </section>

        <section class="menu-panel" data-panel-content="rules">
          <ul class="menu-list compact">
            <li>Each player starts with one private card face down.</li>
            <li>A single community card is revealed after each betting round.</li>
            <li>Stand locks your total and you stop receiving future community cards.</li>
            <li>Double Down is pre-action only and gives a second private card.</li>
            <li>If you bust over 21, you cannot win the pot.</li>
            <li>Ties split the pot equally.</li>
          </ul>
        </section>
      </aside>

      <main class="workspace">
        <section class="table-stage glass" aria-label="Game table">
          <div class="table-overlay"></div>
          <div class="table-head">
            <span id="roundBadge" class="badge">Round Pre-Action</span>
            <span id="potBadge" class="badge strong">Pot 0</span>
            <span id="betBadge" class="badge">To Call 0</span>
          </div>

          <div id="communityCards" class="community-cards" aria-label="Community cards"></div>
          <div id="playerLayer" class="player-layer" aria-live="polite"></div>
        </section>

        <aside class="side-stack">
          <section class="status-panel glass">
            <h2>Action</h2>
            <p id="turnPrompt" class="turn-prompt">Setting up hand...</p>
            <div id="actionButtons" class="action-buttons"></div>
            <div id="wagerTray" class="wager-tray"></div>
          </section>

          <section class="log-panel glass">
            <h2>Hand Log</h2>
            <ul id="logList" class="log-list"></ul>
          </section>
        </aside>
      </main>
    </div>

    <script type="module" src="app.js?v=19"></script>
  </body>
</html>
