<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>21 Hold'em | 3-Player Game</title>
    <link rel="stylesheet" href="styles.css?v=38" />
  </head>
  <body>
    <div id="splashScreen" class="splash-screen" aria-hidden="true">
      <img class="splash-logo" src="assets/images/21-holdem.png" alt="21 Hold'em" />
    </div>

    <div id="setupOverlay" class="setup-overlay hidden">
      <section class="setup-card glass" aria-label="Player setup">
        <div class="setup-columns">
          <article class="profile-setup">
            <p class="setup-kicker">Player Profile</p>
            <h2>Seat Configuration</h2>
            <label class="field-label" for="playerNameInput">Display Name</label>
            <input
              id="playerNameInput"
              class="field-input"
              type="text"
              maxlength="12"
              value="PLAYER"
            />
            <p class="setup-stat">Starting stack: <strong id="startingStackValue">5000</strong></p>
            <p class="setup-stat">Minimum buy-in: <strong>10x BB</strong></p>
            <p class="setup-stat">Blind range: <strong>1/2 to 100/200</strong></p>
          </article>

          <article class="table-setup">
            <p class="setup-kicker">Table Menu</p>
            <h2>Select Table Blinds</h2>
            <div id="tableMenuGrid" class="table-menu-grid"></div>
          </article>
        </div>

        <div class="setup-actions">
          <p id="selectedTableInfo" class="selected-table-info">Tap a table to join instantly.</p>
        </div>
      </section>
    </div>

    <div class="app-shell prestart">
      <aside id="menuDrawer" class="menu-drawer glass" aria-label="Main menu">
        <div class="menu-header">
          <h2>Table Menu</h2>
          <button id="closeMenu" class="btn ghost mini" type="button">Close</button>
        </div>

        <div class="menu-tabs" role="tablist" aria-label="Menu panels">
          <button class="menu-tab active" type="button" data-panel="overview">Overview</button>
          <button class="menu-tab" type="button" data-panel="tutorial">Tutorial</button>
          <button class="menu-tab" type="button" data-panel="rules">Rules</button>
          <button class="menu-tab" type="button" data-panel="hands">Hands</button>
        </div>

        <section class="menu-panel active" data-panel-content="overview">
          <p class="menu-copy">
            Tutorial stays in this menu while the game runs on the main table.
          </p>
          <ul class="menu-list">
            <li>3 seats: You, North Bot, East Bot.</li>
            <li>5 rounds: Pre-Action, Action, Stage, Show, Caboose.</li>
            <li>Best total at or under 21 wins.</li>
          </ul>
        </section>

        <section class="menu-panel" data-panel-content="tutorial">
          <div id="tutorialModuleTabs" class="tutorial-modules" aria-label="Tutorial modules"></div>
          <article class="tutorial-card">
            <p id="tutorialMeta" class="tutorial-meta"></p>
            <h3 id="tutorialTitle"></h3>
            <div id="tutorialBody" class="tutorial-body"></div>
            <ul id="tutorialBullets" class="tutorial-bullets"></ul>
          </article>
          <div class="tutorial-controls">
            <button id="tutorialPrev" class="btn ghost mini" type="button">Back</button>
            <span id="tutorialCounter"></span>
            <button id="tutorialNext" class="btn ghost mini" type="button">Next</button>
          </div>
        </section>

        <section class="menu-panel" data-panel-content="rules">
          <ul class="menu-list compact">
            <li>Starting stack is 5000 chips per player.</li>
            <li>Minimum buy-in for any table is 10x the big blind.</li>
            <li>Blind menu supports tables from 1/2 up to 100/200.</li>
            <li>Each player starts with one private card face down.</li>
            <li>A single community card is revealed after each betting round.</li>
            <li>Confirm flow for call/bet/raise is Confirm, Stand, or Cancel.</li>
            <li>Stand locks your total and you stop receiving future community cards.</li>
            <li>Double Down is pre-action only and gives a second private card.</li>
            <li>If all active players are standing, hand jumps straight to showdown.</li>
            <li>If you bust over 21, you cannot win the pot.</li>
            <li>Ties split the pot equally.</li>
          </ul>
        </section>

        <section class="menu-panel" data-panel-content="hands">
          <h3 class="menu-subtitle">Hand Log</h3>
          <ul id="logList" class="log-list menu-log-list"></ul>
        </section>
      </aside>

      <main class="workspace">
        <section class="game-board glass" aria-label="Game table">
          <header class="board-header">
            <button id="menuToggle" class="btn ghost mini" type="button">Menu</button>
            <h1 id="tableTitle">21 HOLD'EM 1/2</h1>
            <button id="newHandButton" class="btn primary mini" type="button">Deal</button>
          </header>

          <div class="board-meta">
            <span id="roundBadge" class="badge">Round Pre-Action</span>
            <span id="potBadge" class="badge strong">Pot 0</span>
            <span id="betBadge" class="badge">Blinds 1/2</span>
          </div>
          <div id="winnerBanner" class="winner-banner" aria-live="polite"></div>

          <div class="table-stage">
            <div class="table-felt"></div>
            <div id="communityCards" class="community-cards" aria-label="Community cards"></div>
            <div id="chipLayer" class="chip-layer" aria-hidden="true"></div>
            <div id="playerLayer" class="player-layer" aria-live="polite"></div>
          </div>

          <section class="action-dock">
            <p id="turnPrompt" class="turn-prompt">Setting up hand...</p>
            <div id="actionButtons" class="action-buttons"></div>
            <div id="wagerTray" class="wager-tray"></div>
          </section>
        </section>
      </main>
    </div>

    <script type="module" src="app.js?v=38"></script>
  </body>
</html>
